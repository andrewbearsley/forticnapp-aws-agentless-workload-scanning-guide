# Web Scraping Guidelines

## Browser Automation vs Headless Fetching

When extracting data from web pages:

- **DO NOT** use browser automation tools (browser_navigate, browser_click, etc.) for simple data extraction
- **DO** use headless web fetching tools (mcp_web_fetch, web_search) to retrieve page content
- Browser automation is only appropriate for interactive tasks requiring user interaction

## When to Use Each Approach

### Use Headless Fetching (mcp_web_fetch, web_search)
- Extracting structured data from documentation
- Reading static HTML content
- Parsing tables, lists, or text content
- Any task that doesn't require JavaScript execution or user interaction

### Use Browser Automation (Only if necessary)
- Testing interactive web applications
- Tasks requiring JavaScript execution
- Clicking buttons, filling forms, or other user interactions
- When headless fetching fails due to dynamic content

## HTTP Headers

When using `requests` library for web scraping, always include proper headers to avoid 500 errors:

```python
headers = {
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Accept-Language': 'en-US,en;q=0.5',
}
response = requests.get(url, headers=headers, timeout=30)
```

## Extraction Best Practices

- **Table-based extraction**: Extract data from HTML tables when available (more reliable than link-based extraction)
- **Section detection**: Use heading tags (h3, h4) to identify sections, then find associated tables
- **Duplicate prevention**: Track seen items using normalized keys (lowercase, stripped)

## Example

**Bad:** Using browser_navigate to fetch documentation pages
```python
# DON'T DO THIS for simple data extraction
browser_navigate(url)
browser_snapshot()
```

**Good:** Using headless web fetch with proper headers
```python
# DO THIS for documentation extraction
import requests
headers = {
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36',
    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
}
response = requests.get(url, headers=headers, timeout=30)
content = response.text
# Parse HTML content with BeautifulSoup
```
